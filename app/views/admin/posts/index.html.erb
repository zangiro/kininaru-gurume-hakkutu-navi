<div class="container">
  <div class="row bg-danger-subtle">
    <h2><%= t(".page_title") %></h2>
    <div class="table-responsive">
      <table class="table table-sm table-striped  table-bordered">
        <thead>
          <tr>
            <th><%= t(".id") %></th>
            <th><%= t(".main_image") %></th>
            <th><%= t(".sub_image_first") %></th>
            <th><%= t(".sub_image_second") %></th>
            <th><%= t(".poster") %></th>
            <th><%= t(".operation") %></th>
          </tr>
        </thead>

        <tbody>
          <% @posts.each do |post| %>
            <tr>
              <td><%= post.id %></td>
              <td><%= image_tag post.decorated.resized_main_image_small %></td>

              <td>
                <% if post.sub_image_first.attached? %>
                  <%= image_tag post.decorated.resized_sub_image_first_small %>
                <% end %>
              </td>

              <td>
                <% if post.sub_image_second.attached? %>
                  <%= image_tag post.decorated.resized_sub_image_second_small %>
                <% end %>
              </td>

              <td><%= link_to post.user.name, admin_user_path(post.user) %></td>
              
              <td>
                <%= link_to t("helpers.submit.delete"), admin_post_path(post), data: { turbo_method: :delete, turbo_confirm: t("helpers.dialog.post_delete_confirm") } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <%= paginate @posts, theme: "bootstrap-5" %>

    <%= link_to t("helpers.link.user_index"), admin_users_path %>
    <%= link_to t("helpers.link.admin_top"), admin_homes_path %>
  </div>
</div>